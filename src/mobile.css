/* ==========================================
   MOBILE OPTIMIZATIONS & SIDEBAR (PWA & Touch)
   ========================================== */

/* Area sentuh tombol lebih besar */
@media (max-width: 768px) {
    .btn {
        min-height: 48px;
        touch-action: manipulation;
    }

    .form-input,
    .form-select,
    .form-textarea {
        min-height: 48px;
        font-size: 16px !important;
        /* Mencegah zoom iOS */
    }

    /* Padding halaman reset (No more bottom nav) */
    .page {
        padding-left: var(--spacing-sm);
        padding-right: var(--spacing-sm);
        padding-bottom: var(--spacing-lg);
        /* Normal padding */
    }

    /* Map responsif */
    .map-container {
        height: 50vh;
        max-height: 400px;
        border-radius: var(--radius-md);
    }

    /* Modal full width di mobile bawah */
    .modal {
        width: 100%;
        margin: 0;
        max-height: 85vh;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
        position: fixed;
        bottom: 0;
        animation: slideUpMobile 0.3s ease-out;
    }

    @keyframes slideUpMobile {
        from {
            transform: translateY(100%);
        }

        to {
            transform: translateY(0);
        }
    }

    .modal-overlay {
        align-items: flex-end;
        padding: 0;
    }

    /* Mobile Sidebar & Navigation Overrides */
    .navbar-menu {
        display: none !important;
        /* Hide desktop menu items and theme btn */
    }

    .bottom-nav {
        display: none !important;
        /* Remove bottom nav */
    }

    /* Specific Sidebar Styles for Mobile */
    .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
    }

    .sidebar-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 280px;
        height: 100vh;
        background: var(--bg-card);
        backdrop-filter: blur(30px);
        z-index: 2001;
        transform: translateX(-100%);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: var(--shadow-xl);
        display: flex;
        flex-direction: column;
        padding: var(--spacing-md);
        overflow-y: auto;
        border-right: 1px solid var(--border-color);
    }

    .sidebar.active {
        transform: translateX(0);
    }

    .sidebar-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--spacing-lg);
        padding-bottom: var(--spacing-sm);
        border-bottom: 1px solid var(--border-color);
    }

    .sidebar-links {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .sidebar-links .nav-link {
        display: flex;
        align-items: center;
        padding: 0.875rem 1rem;
        font-size: 1rem;
        color: var(--text-secondary);
        border-radius: var(--radius-md);
        transition: all 0.2s;
        font-weight: 500;
        text-decoration: none;
    }

    .sidebar-links .nav-link:hover {
        background: var(--bg-tertiary);
        color: var(--text-primary);
    }

    .sidebar-links .nav-link.active {
        background: var(--primary-gradient);
        color: white;
        box-shadow: var(--shadow-md);
    }
}
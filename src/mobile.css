/* ==========================================
   MOBILE OPTIMIZATIONS & SIDEBAR (PWA & Touch)
   ========================================== */

/* Area sentuh tombol lebih besar */
@media (max-width: 768px) {
    :root {
        --spacing-md: 1rem;
        --spacing-lg: 1.5rem;
    }

    body {
        font-size: 14px;
        /* Base font smaller */
    }

    .btn {
        min-height: 40px;
        /* Reduced from 48px to save space */
        padding: 0.5rem 1rem;
        font-size: 0.85rem;
        touch-action: manipulation;
    }

    .form-input,
    .form-select,
    .form-textarea {
        min-height: 40px;
        /* Reduced height */
        font-size: 14px !important;
        padding: 0.5rem 0.75rem;
    }

    /* Padding halaman reset (No more bottom nav) */
    .page {
        padding: 0.75rem;
        padding-bottom: 2rem;
        width: 100vw;
        overflow-x: hidden;
    }

    .container {
        padding: 0;
        max-width: 100%;
    }

    /* Full width cards with compact padding */
    .card,
    .card-glass {
        padding: 0.75rem;
        border-radius: var(--radius-md);
        margin-bottom: 0.75rem;
    }

    /* Reduce headings */
    h1 {
        font-size: 1.5rem;
    }

    h2 {
        font-size: 1.25rem;
    }

    h3 {
        font-size: 1.1rem;
    }

    h4 {
        font-size: 1rem;
    }

    p {
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
    }

    /* Compact Header Actions (Title left, Button right or stacked) */
    .flex.justify-between.items-center {
        flex-wrap: wrap;
        gap: 0.75rem;
    }

    /* Make buttons in headers stretch or fit better */
    .mb-lg.flex.justify-between.items-center>button {
        /* font-size: 0.75rem; */
    }

    /* List Item / Card Item Compact */
    .card-header {
        padding-bottom: 0.5rem;
        margin-bottom: 0.5rem;
    }

    .card-title {
        font-size: 1rem;
    }

    .badge {
        font-size: 0.65rem;
        padding: 0.25rem 0.5rem;
    }

    /* Map responsif */
    .map-container {
        height: 40vh;
        max-height: 300px;
        border-radius: var(--radius-md);
    }

    /* Modal full width di mobile bawah */
    .modal {
        width: 100%;
        margin: 0;
        max-height: 90vh;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
        position: fixed;
        bottom: 0;
        animation: slideUpMobile 0.3s ease-out;
    }

    @keyframes slideUpMobile {
        from {
            transform: translateY(100%);
        }

        to {
            transform: translateY(0);
        }
    }

    .modal-overlay {
        align-items: flex-end;
        padding: 0;
    }

    .modal-body {
        padding: 1rem;
    }

    /* Mobile Sidebar & Navigation Overrides */
    .navbar-menu {
        display: none !important;
    }

    .bottom-nav {
        display: none !important;
    }

    /* Specific Sidebar Styles for Mobile */
    .sidebar-overlay {
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transition: all 0.3s ease;
    }

    .navbar-brand span:first-child {
        display: inline-block;
    }

    .sidebar-overlay.active {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
    }

    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 80%;
        /* Slightly smaller than full width */
        max-width: 300px;
        height: 100vh;
        background: var(--bg-card);
        backdrop-filter: blur(30px);
        z-index: 2001;
        transform: translateX(-100%);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: var(--shadow-xl);
        display: flex;
        flex-direction: column;
        padding: 1rem;
        overflow-y: auto;
        border-right: 1px solid var(--border-color);
    }

    .sidebar.active {
        transform: translateX(0);
    }

    .sidebar-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid var(--border-color);
    }

    .sidebar-links {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .sidebar-links .nav-link {
        display: flex;
        align-items: center;
        padding: 0.75rem 0.85rem;
        font-size: 0.95rem;
        color: var(--text-secondary);
        border-radius: var(--radius-md);
        transition: all 0.2s;
        font-weight: 500;
        text-decoration: none;
    }

    .sidebar-links .nav-link:hover {
        background: var(--bg-tertiary);
        color: var(--text-primary);
    }

    .sidebar-links .nav-link.active {
        background: var(--primary-gradient);
        color: white;
        box-shadow: var(--shadow-md);
    }
}